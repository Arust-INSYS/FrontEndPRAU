<router-outlet></router-outlet>
<section class="contenedor">
  <div class="cabecera">
    <p-toolbar>
      <div class="p-toolbar-group-start">
        <button
          pButton
          icon="pi pi-plus"
          class="mr-2"
          (click)="showModal()"
        ></button>
        <button pButton icon="pi pi-print" class="mr-2 imprimir" (click)="generarPDFtable()"></button>
        <button pButton icon="pi pi-upload"></button>
      </div>
      <div class="p-toolbar-group-center">
        <span class="p-input-icon-left">
          <i class="pi pi-search"></i>
          <input pInputText placeholder="Search" />
        </span>
      </div>
      <div class="p-toolbar-group-end">
        <p-splitButton
          label="Save"
          icon="pi pi-check"
          [model]="items"
        ></p-splitButton>
      </div>
    </p-toolbar>
  </div>
  <div class="subconten2">
    <p-table [value]="personasList" [scrollable]="true" scrollHeight="400px">
      <ng-template pTemplate="header">
        <tr>
          <th>Nombre</th>
          <th>Apellido</th>
          <th>Cédula</th>
          <th>Dirección</th>
          <th>F-Nacimiento</th>
          <th>Teléfono</th>
          <th>Acciones</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body">
        <tr *ngFor="let per of personasList">
          <td>{{ per.perNombre1 }}</td>
          <td>{{ per.perApellido1 }}</td>
          <td>{{ per.perCedula }}</td>
          <td>{{ per.perDireccion }}</td>
          <td>{{ per.perFechaNacimiento }}</td>
          <td>{{ per.perTelefono }}</td>
          <td>
            <!-- Botón para abrir el modal -->
            <button
              pButton
              type="button"
              label="Editar"
              (click)="showModalEditar(per)"
            ></button>

            <!-- Botón de Eliminar -->
            <button
              pButton
              icon="pi pi-trash"
              label="Eliminar"
              (click)="eliminarPersona(per.perId)"
            ></button>
          </td>
        </tr>
      </ng-template>
    </p-table>
  </div>
</section>
<p-dialog
  [(visible)]="displayModal"
  [modal]="true"
  [responsive]="true"
  [style]="{ width: '50vw' }"
>
  <app-registrar-persona></app-registrar-persona>
</p-dialog>

<!-- Modal para editar -->
<p-dialog
  [(visible)]="displayModalEdit"
  [modal]="true"
  [responsive]="true"
  [style]="{ width: '500px' }"
>
  <h2>Editar Persona</h2>
  <form #editForm="ngForm" (ngSubmit)="guardarCambios()">
    <div class="input-group">
      <label for="nombre">Nombre:</label>
      <input
        type="text"
        id="nombre"
        name="nombre"
        pInputText
        [(ngModel)]="personaEditar.perNombre1"
        required
      />
    </div>
    <!-- Otros campos del formulario -->
    <!-- Agrega los campos restantes del formulario según tus necesidades -->
    <button type="submit" pButton label="Guardar"></button>
  </form>
</p-dialog>
