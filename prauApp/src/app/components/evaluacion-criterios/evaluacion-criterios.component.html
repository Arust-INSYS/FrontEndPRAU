
<section class="contenedor">
    <div class="header">
        <!-- Barra de búsqueda eliminada -->
    </div>
    <div class="subconten2">

        <h1 class="text-center titulo-criterios">Evaluación</h1>

        <!-- Botón "+" y botón para filtrar -->
        <div class="botones-container">
            <input pInputText placeholder="Texto a filtrar" class="filtro-input"/>
            <button pButton label="Filtrar" class="p-button-rounded p-button-info ml-2" (click)="filtrar()"></button>
            <button pButton icon="pi pi-plus" class="p-button-rounded p-button-info ml-2" (click)="crearNuevoDato()"></button>
        </div>

        <div class="tabla-container">
            <p-table #dt [value]="products" [rows]="10" [paginator]="true"
            [globalFilterFields]="['name', 'country.name', 'representative.name', 'status']"
            [tableStyle]="{ 'min-width': '75rem' }" [(selection)]="selectedProducts" [rowHover]="true" dataKey="id"
            currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries" [showCurrentPageReport]="true"
            [value]="evaluacionCab" [scrollable]="true" scrollHeight="400px">
       <ng-template pTemplate="header">
                    <tr>
                        <th>n° Criterio</th>
                        <th>Aula</th>
                        <th>Docente</th>
                        <th>Observaciones</th>
                        <th>Porcentaje Cumplido</th>
                        <th>Editar</th>
                        <th>Eliminar</th>
                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-evaluacionCab>
                    <tr>
                        <td>{{ evaluacionCab.nroEvaluacion }}</td> 
                        <td>{{ evaluacionCab.aula?.aulaNombre }}</td> 
                        <td>{{ evaluacionCab.usuario?.perNombre }}</td> 
                        <td>{{ evaluacionCab.observaciones }}</td>
                        <td>{{ evaluacionCab.porcTotalC }}</td>
                        <td>
                            <button pButton pRipple icon="pi pi-pencil" class="p-button-success mr-2" (click)="actualizarCriterio(evaluacionCab.idClasificacion)"></button>
                        </td>
                        <td>
                            <button pButton pRipple icon="pi pi-trash" class="p-button-danger" *ngIf="evaluacionCab.idClasificacion" (click)="eliminarCriterio(evaluacionCab.idClasificacion)"></button>
                    </tr>
                </ng-template>
            </p-table>
        </div>
    </div>
</section>
